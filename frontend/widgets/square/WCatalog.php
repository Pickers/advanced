<?php/* * To change this template, choose Tools | Templates * and open the template in the editor. */class WCatalog extends CWidget{    public function init()    {        parent::init();    }    public function run()    {        $key = $_REQUEST['key'];        $category = Category::model()->findByPk(3);        $model = $category->findByAttributes(array('url' => $key));        if ($model) {            $childs = $model->children()->findAll();            foreach ($childs as $child)                $ids[] = $child->id;        }        $this->render('catalog', array(            'model' => $model,        ));    }}